"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[501],{8501:function(e,s,t){t.r(s),t.d(s,{default:function(){return O}});var a=t(1413),r=t(2791),l=t(9439),n=t(2635),i=t(8617),o=t(184),c=function(e){var s=(0,r.useState)(!1),t=(0,l.Z)(s,2),a=t[0],n=t[1],c=(0,r.useState)(e.status),u=(0,l.Z)(c,2),d=u[0],m=u[1];(0,r.useEffect)((function(s){m(e.status)}),[e.status]);return(0,o.jsxs)(o.Fragment,{children:[!a&&(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("p",{className:"".concat(e.className," text-sm text-gray-400"),children:e.status||"-----"}),e.isOwner&&(0,o.jsx)("div",{onClick:function(){n(!0)},className:"p-1.5 -m-1.5 cursor-pointer rounded-full hover:bg-light-blue/50 transition-colors",children:(0,o.jsx)(i.LsQ,{size:18})})]}),a&&(0,o.jsx)("input",{className:"block px-2 py-1 text-sm text-white bg-dark-blue rounded-lg border border-gray-700 transition-colors focus:ring-blue-500 focus:border-blue-200 outline-0",onChange:function(e){m(e.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),e.updateStatus(d)},value:d})]})},u=t(8820),d=t(641),m=t(5705),x=t(4972),h=t(3853),f=t(7476),p=function(e,s){return(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{className:"block mb-1.5 capitalize",children:[e,":"]}),(0,o.jsx)("div",{children:(0,o.jsx)(m.gN,{name:"contacts.".concat(e),type:"text",id:e,component:x.Z,isValid:s,className:"px-4 py-2",placeholder:e})})]},e)};function j(e){var s=e.profile,t=e.handleSubmit,a=e.goToViewMode,r=JSON.parse(JSON.stringify(s)),l=Object.keys(s.contacts);return l.forEach((function(e){null===r.contacts[e]&&(r.contacts[e]="")})),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"grid justify-items-start pt-5",children:(0,o.jsx)(m.J9,{initialValues:r,onSubmit:function(e,s){var r=s.setStatus,l=s.setSubmitting;t(e,r,l,a)},children:function(e){var s=e.isValid,t=e.status,r=e.isSubmitting;return(0,o.jsxs)(m.l0,{className:"grid gap-4 w-1/2 my-0 mx-auto",children:[t&&(0,o.jsx)("p",{className:"text-red-500",children:t}),(0,o.jsx)(d.Z,{className:"px-2 gap-2 justify-center",children:r?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.cjn,{size:17}),"Please wait..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.mW3,{size:17}),"Save"]})}),(0,o.jsx)("button",{className:"py-2",onClick:a,children:"Cancel"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block mb-1.5",htmlFor:"fullName",children:"Full Name"}),(0,o.jsx)(m.gN,{className:"px-4 py-2",name:"fullName",placeholder:"e.g Donal Noye",component:x.Z,id:"fullName",isValid:s})]}),(0,o.jsxs)("div",{className:"checkbox",children:[(0,o.jsx)(m.gN,{name:"lookingForAJob",type:"checkbox",id:"lookingForAJob"}),(0,o.jsx)("label",{htmlFor:"lookingForAJob",children:"Looking for a job"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block mb-1.5",htmlFor:"skills",children:"Professional skills"}),(0,o.jsx)(m.gN,{name:"lookingForAJobDescription",placeholder:"e.g HTML, CSS, Javascript...",component:f.Z,id:"skills"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block mb-1.5",htmlFor:"aboutMe",children:"About Me"}),(0,o.jsx)(m.gN,{className:"px-4 py-2",name:"aboutMe",placeholder:"e.g I love pancakes!",component:x.Z,isValid:s,id:"aboutMe"})]}),(0,o.jsx)(m.F2,{name:"friends",render:function(){return(0,o.jsx)(o.Fragment,{children:l.map((function(e){return p(e,s)}))})}})]})}})})})}function g(e){var s=e.profile,a=e.status,n=e.updateStatus,i=e.isOwner,c=e.savePhoto,u=e.saveProfile,d=(0,r.useState)(!1),m=(0,l.Z)(d,2),x=m[0],h=m[1];return(0,o.jsxs)("div",{className:"pb-10 mb-4 bg-black rounded-2xl overflow-hidden",children:[(0,o.jsx)("div",{className:"h-[200px] overflow-hidden",children:(0,o.jsx)("img",{className:"w-full h-full object-cover",src:t(8287),alt:""})}),x?(0,o.jsx)(j,{profile:s,handleSubmit:function(e,s,t,a){u(e,s,t,a)},goToViewMode:function(){return h(!1)}}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(b,{goToEditMode:function(){h(!0)},profile:s,status:a,isOwner:i,updateStatus:n,onMainPhotoSelected:function(e){e.target.files.length&&c(e.target.files[0])},editMode:x})})]})}var b=function(e){var s=e.profile,t=e.status,a=e.updateStatus,r=e.isOwner,l=e.goToEditMode,i=(e.editMode,e.onMainPhotoSelected);return(0,o.jsxs)("div",{className:"px-16 grid grid-cols-[50%_auto] justify-between items-start",children:[(0,o.jsxs)("div",{className:"grid justify-items-start -mt-16",children:[(0,o.jsxs)("div",{className:"mb-3 flex items-end gap-2",children:[(0,o.jsx)("div",{className:"rounded-full w-[120px] h-[120px] overflow-hidden",children:(0,o.jsx)("img",{className:"w-full h-full object-cover",src:s.photos.large||n,alt:""})}),r&&(0,o.jsxs)("label",{className:"cursor-pointer inline-block",children:[(0,o.jsx)("input",{className:"hidden",type:"file",onChange:i}),(0,o.jsx)(u.aBR,{size:25})]})]}),(0,o.jsx)("h2",{className:"text-2xl mb-1",children:s.fullName}),(0,o.jsx)(c,{status:t,updateStatus:a,isOwner:r}),(0,o.jsxs)("ul",{className:"grid gap-1 mt-4",children:[(0,o.jsxs)("li",{className:"flex items-center gap-2",children:[(0,o.jsx)("p",{className:"text-sm text-gray-400",children:"Looking for a job:"}),s.lookingForAJob?"Yes":"No"]}),s.lookingForAJob&&(0,o.jsxs)("li",{className:"flex items-center gap-2",children:[(0,o.jsx)("p",{className:"text-sm text-gray-400",children:"My Professional skills:"}),s.lookingForAJobDescription]}),s.aboutMe&&(0,o.jsxs)("li",{className:"flex items-center gap-2",children:[(0,o.jsx)("p",{className:"text-sm text-gray-400",children:"About me:"}),s.aboutMe]}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-sm text-gray-400",children:"Contacts:"}),(0,o.jsx)("ul",{className:"pl-3",children:Object.keys(s.contacts).map((function(e){return(0,o.jsx)("li",{children:s.contacts[e]&&(0,o.jsx)(v,{title:e,value:s.contacts[e]})},e)}))})]})]})]}),r&&(0,o.jsxs)(d.Z,{className:"mt-5 px-2 gap-2",handleClick:l,children:[(0,o.jsx)(u.$iz,{size:20}),"Edit"]})]})},v=function(e){var s=e.title,t=e.value;return(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsxs)("p",{className:"text-sm text-white",children:[s,":"]}),(0,o.jsx)("a",{href:t,target:"_blank",className:"hover:underline",children:t})]})},N=t(6070),k=t(3433);function w(e){return(0,o.jsxs)("div",{className:"flex items-center gap-3 border-b-2 border-dark-blue p-5",children:[(0,o.jsx)("div",{className:"rounded-full w-[40px] h-[40px] overflow-hidden",children:(0,o.jsx)("img",{className:"w-full h-full object-cover",src:n,alt:""})}),(0,o.jsx)("p",{children:e.text})]})}var P=t(6727),S=(0,r.memo)((function(e){var s=P.Ry().shape({newPostText:P.Z_().min(2,"Must be longer than 2 characters !").max(100,"Must be shorter than 100 characters !").required("Required !")});return(0,o.jsxs)("div",{className:"p-10 pt-7 bg-black rounded-2xl overflow-hidden",children:[(0,o.jsx)("h3",{className:"text-xl mb-4",children:"My Posts"}),(0,o.jsx)(m.J9,{initialValues:{newPostText:""},validationSchema:s,onSubmit:function(s,t){var a=t.resetForm;e.addPost(s.newPostText),a()},children:function(){return(0,o.jsxs)(m.l0,{children:[(0,o.jsx)(m.gN,{component:f.Z,name:"newPostText",placeholder:"Write your thoughts here..."}),(0,o.jsx)(d.Z,{className:"mt-4",children:"Publish post"})]})}}),(0,o.jsx)("div",{className:"grid gap-4 mt-5",children:(0,k.Z)(e.posts).reverse().map((function(e,s){return(0,o.jsx)(w,{text:e.text},s)}))})]})})),y=t(8687),F=(0,y.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(s){e((0,N.Wl)(s))}}}))(S);function Z(e){return(0,o.jsxs)("div",{className:"profile",children:[(0,o.jsx)(g,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,saveProfile:e.saveProfile,savePhoto:e.savePhoto}),(0,o.jsx)(F,{})]})}var M=t(9996),J=t(7689);var O=(0,t(7781).qC)((0,y.$j)((function(e){return{profile:e.profilePage.profile,authorizedUserId:e.auth.userId,status:e.profilePage.status}}),{getUserProfile:N.et,getStatus:N.lR,updateStatus:N.Nf,savePhoto:N.Ju,saveProfile:N.Ii}),(function(e){return function(s){var t=(0,J.TH)(),r=(0,J.s0)(),l=(0,J.UO)();return(0,o.jsx)(e,(0,a.Z)((0,a.Z)({},s),{},{router:{location:t,navigate:r,params:l}}))}}))((function(e){var s=(0,J.s0)(),t=function(){var t=e.router.params.userId;t||(t=e.authorizedUserId)||s("/login"),e.getUserProfile(t),e.getStatus(t)};return(0,r.useEffect)((function(){t()})),(0,r.useEffect)((function(){t()}),[e.router.params.userId]),(0,o.jsx)(o.Fragment,{children:e.profile?(0,o.jsx)(Z,(0,a.Z)((0,a.Z)({},e),{},{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:!e.router.params.userId,savePhoto:e.savePhoto,saveProfile:e.saveProfile})):(0,o.jsx)(M.Z,{})})}))},7476:function(e,s,t){t.d(s,{Z:function(){return c}});var a=t(1413),r=t(5987),l=t(2948),n=t(5705),i=t(184),o=["field","placeholder","className","valid"];function c(e){var s=e.field,t=e.placeholder,c=(e.className,e.valid,(0,r.Z)(e,o));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,(0,a.Z)((0,a.Z)((0,a.Z)({},s),c),{},{minRows:3,maxRows:20,className:"resize-none block p-2.5 pb-3.5 w-full text-sm text-white bg-dark-blue rounded-lg border border-gray-700 transition-colors focus:ring-blue-500 focus:border-blue-200 outline-0 ".concat(c.className),placeholder:t})),(0,i.jsx)(n.Bc,{className:"mt-1 text-sm text-red-500",name:s.name,component:"div"})]})}},8287:function(e,s,t){e.exports=t.p+"static/media/wallpaper_cliff_1920x1080.63042aeed0859c128be6.jpg"}}]);
//# sourceMappingURL=501.be804f28.chunk.js.map