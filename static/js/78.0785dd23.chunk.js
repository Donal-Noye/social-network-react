"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[78],{7078:function(e,t,s){s.r(t),s.d(t,{default:function(){return k}});var r=s(1413),a=s(2791),n=s(2635),l=s(9439),o=s(8617),u=s(184),i=function(e){var t=(0,a.useState)(!1),s=(0,l.Z)(t,2),r=s[0],n=s[1],i=(0,a.useState)(e.status),c=(0,l.Z)(i,2),d=c[0],f=c[1];(0,a.useEffect)((function(t){f(e.status)}),[e.status]);return(0,u.jsxs)(u.Fragment,{children:[!r&&(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("p",{className:"text-sm text-gray-400",children:e.status||"-----"}),(0,u.jsx)("div",{onClick:function(){n(!0)},className:"p-1.5 -m-1.5 cursor-pointer rounded-full hover:bg-light-blue/50 transition-colors",children:(0,u.jsx)(o.LsQ,{size:18})})]}),r&&(0,u.jsx)("input",{className:"block px-2 py-1 text-sm text-white bg-dark-blue rounded-lg border border-gray-700 transition-colors focus:ring-blue-500 focus:border-blue-200 outline-0",onChange:function(e){f(e.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),e.updateStatus(d)},value:d})]})};function c(e){var t=e.profile,r=e.status,a=e.updateStatus;return(0,u.jsxs)("div",{className:"pb-10 mb-4 bg-black rounded-2xl overflow-hidden",children:[(0,u.jsx)("div",{className:"h-[200px] overflow-hidden",children:(0,u.jsx)("img",{className:"w-full h-full object-cover",src:s(8287),alt:""})}),(0,u.jsxs)("div",{className:"ml-16 -mt-16",children:[(0,u.jsx)("div",{className:"rounded-full w-[120px] h-[120px] overflow-hidden mb-3",children:(0,u.jsx)("img",{className:"w-full h-full object-cover",src:t.photos.large?t.photos.large:n,alt:""})}),(0,u.jsx)("h2",{className:"text-2xl mb-1",children:t.fullName}),(0,u.jsx)(i,{status:r,updateStatus:a})]})]})}var d=s(6070),f=s(3433);function x(e){return(0,u.jsxs)("div",{className:"flex items-center gap-3 border-b-2 border-dark-blue p-5",children:[(0,u.jsx)("div",{className:"rounded-full w-[40px] h-[40px] overflow-hidden",children:(0,u.jsx)("img",{className:"w-full h-full object-cover",src:n,alt:""})}),(0,u.jsx)("p",{children:e.text})]})}var m=s(641),p=s(7476),h=s(5705),b=s(6727),j=(0,a.memo)((function(e){var t=b.Ry().shape({newPostText:b.Z_().min(2,"Must be longer than 2 characters !").max(100,"Must be shorter than 100 characters !").required("Required !")});return(0,u.jsxs)("div",{className:"p-10 pt-7 bg-black rounded-2xl overflow-hidden",children:[(0,u.jsx)("h3",{className:"text-xl mb-4",children:"My Posts"}),(0,u.jsx)(h.J9,{initialValues:{newPostText:""},validationSchema:t,onSubmit:function(t,s){var r=s.resetForm;e.addPost(t.newPostText),r()},children:function(){return(0,u.jsxs)(h.l0,{children:[(0,u.jsx)(h.gN,{component:p.Z,name:"newPostText"}),(0,u.jsx)(m.Z,{className:"mt-4",children:"Publish post"})]})}}),(0,u.jsx)("div",{className:"grid gap-4 mt-5",children:(0,f.Z)(e.posts).reverse().map((function(e,t){return(0,u.jsx)(x,{text:e.text},t)}))})]})})),v=s(8687),g=(0,v.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e((0,d.Wl)(t))}}}))(j);function N(e){return(0,u.jsxs)("div",{className:"profile",children:[(0,u.jsx)(c,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),(0,u.jsx)(g,{})]})}var w=s(9996),Z=s(7689);var k=(0,s(7781).qC)((0,v.$j)((function(e){return{profile:e.profilePage.profile,authorizedUserId:e.auth.userId,status:e.profilePage.status}}),{getUserProfile:d.et,getStatus:d.lR,updateStatus:d.Nf}),(function(e){return function(t){var s=(0,Z.TH)(),a=(0,Z.s0)(),n=(0,Z.UO)();return(0,u.jsx)(e,(0,r.Z)((0,r.Z)({},t),{},{router:{location:s,navigate:a,params:n}}))}}))((function(e){var t=(0,Z.s0)();return(0,a.useEffect)((function(){var s=e.router.params.userId;s||(s=e.authorizedUserId)||t("/login"),e.getUserProfile(s),e.getStatus(s)})),(0,u.jsx)(u.Fragment,{children:e.profile?(0,u.jsx)(N,(0,r.Z)((0,r.Z)({},e),{},{profile:e.profile,status:e.status,updateStatus:e.updateStatus})):(0,u.jsx)(w.Z,{})})}))},7476:function(e,t,s){s.d(t,{Z:function(){return i}});var r=s(1413),a=s(5987),n=s(2948),l=s(5705),o=s(184),u=["field","placeholder","className","valid"];function i(e){var t=e.field,s=(e.placeholder,e.className,e.valid,(0,a.Z)(e,u));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Z,(0,r.Z)((0,r.Z)((0,r.Z)({},t),s),{},{minRows:3,maxRows:20,className:"resize-none block p-2.5 pb-3.5 w-full text-sm text-white bg-dark-blue rounded-lg border border-gray-700 transition-colors focus:ring-blue-500 focus:border-blue-200 outline-0 ".concat(s.className),placeholder:"Write your thoughts here..."})),(0,o.jsx)(l.Bc,{className:"mt-1 text-sm text-red-500",name:t.name,component:"div"})]})}},8287:function(e,t,s){e.exports=s.p+"static/media/wallpaper_cliff_1920x1080.63042aeed0859c128be6.jpg"}}]);
//# sourceMappingURL=78.0785dd23.chunk.js.map